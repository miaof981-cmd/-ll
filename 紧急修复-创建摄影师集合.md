# 🚨 紧急修复：创建摄影师集合

## 问题描述
控制台报错：
```
database collection not exists | Db or Table not exist
```

这说明云数据库中缺少 `photographers` 集合。

---

## 🔧 解决步骤

### 方法1：在微信公众平台创建（推荐）

1. **打开微信公众平台**
   - 访问：https://mp.weixin.qq.com
   - 使用小程序管理员账号登录

2. **进入云开发控制台**
   - 左侧菜单：开发 → 云开发
   - 点击"进入云开发控制台"

3. **创建数据库集合**
   - 左侧菜单：数据库
   - 点击顶部"添加集合"按钮
   - 集合名称输入：`photographers`
   - 点击"确定"

4. **设置权限**
   - 找到新创建的 `photographers` 集合
   - 点击"权限设置"
   - 选择："所有用户可读，仅创建者可写"
   - 保存

---

### 方法2：在开发者工具创建

1. **打开云开发面板**
   - 开发者工具顶部菜单：云开发 → 云开发控制台

2. **创建集合**
   - 左侧：数据库
   - 点击"添加集合"
   - 输入：`photographers`
   - 确定

---

## ✅ 验证是否创建成功

在开发者工具 Console 中执行：
```javascript
wx.cloud.database().collection('photographers').get({
  success: res => console.log('✅ photographers 集合存在:', res),
  fail: err => console.error('❌ photographers 集合不存在:', err)
});
```

如果输出 `✅ photographers 集合存在`，说明创建成功。

---

## 📝 需要创建的所有集合清单

请确保以下所有集合都已创建：

- [x] `announcements` - 公告
- [x] `banners` - 轮播图
- [ ] `photographers` - 摄影师 ⚠️ **缺少**
- [x] `students` - 学生
- [ ] `applications` - 申请记录
- [ ] `archives` - 学籍档案

---

## 🎯 创建后续集合

为了避免后续出现类似错误，建议一次性创建所有集合：

1. `photographers` - 摄影师信息
2. `applications` - 入学申请记录
3. `archives` - 学籍档案

每个集合的权限都设置为："所有用户可读，仅创建者可写"

---

## ⚠️ 注意事项

1. **集合名称必须完全匹配**（区分大小写）
2. **权限设置正确**，否则可能无法读写数据
3. 创建集合后，开发者工具需要**重新编译**才能生效

---

## 🔄 创建完成后的测试步骤

1. **重新编译小程序**
2. **清除缓存**（工具 → 清除缓存）
3. **刷新页面**
4. **查看 Console**，应该不再有集合不存在的错误

---

## 💡 快速诊断命令

在开发者工具 Console 中执行以下命令，快速检查所有集合是否存在：

```javascript
const collections = ['announcements', 'banners', 'photographers', 'students', 'applications', 'archives'];
const db = wx.cloud.database();

collections.forEach(name => {
  db.collection(name).get({
    success: () => console.log(`✅ ${name} 集合存在`),
    fail: () => console.error(`❌ ${name} 集合不存在，需要创建`)
  });
});
```

---

创建完 `photographers` 集合后，小程序应该就能正常工作了！

