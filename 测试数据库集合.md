# 测试数据库集合

## 快速测试步骤

### 1. 添加测试分类数据

在 **微信开发者工具** → **云开发** → **数据库** → **activity_categories** 中点击"添加记录"，添加以下数据：

```json
{
  "name": "证件照",
  "icon": "📸",
  "sort": 0
}
```

```json
{
  "name": "毕业照",
  "icon": "🎓",
  "sort": 1
}
```

```json
{
  "name": "艺术照",
  "icon": "🎨",
  "sort": 2
}
```

### 2. 刷新小程序活动页面

- 切换到"活动"Tab
- 应该能看到刚才添加的分类标签
- 点击分类可以筛选

### 3. 检查控制台

如果看到：
- ✅ `✅ 云端获取活动成功: X` - 说明集合工作正常
- ❌ `database collection not exists` - 说明集合未创建或名称错误

---

## 完整的初始化数据

### activity_categories（必须手动添加）

```json
[
  {
    "name": "证件照",
    "icon": "📸",
    "sort": 0,
    "createdAt": "2025-10-14T00:00:00.000Z"
  },
  {
    "name": "毕业照",
    "icon": "🎓",
    "sort": 1,
    "createdAt": "2025-10-14T00:00:00.000Z"
  },
  {
    "name": "艺术照",
    "icon": "🎨",
    "sort": 2,
    "createdAt": "2025-10-14T00:00:00.000Z"
  },
  {
    "name": "节日活动",
    "icon": "🎉",
    "sort": 3,
    "createdAt": "2025-10-14T00:00:00.000Z"
  }
]
```

### admin_list（第一个管理员）

```json
{
  "openid": "您的OpenID（从小程序我的页面复制）",
  "name": "管理员姓名",
  "phone": "13800138000",
  "permissions": ["all"],
  "isActive": true,
  "createdAt": "2025-10-14T00:00:00.000Z"
}
```

---

## 验证清单

- [ ] `activity_categories` 集合已创建
- [ ] 已添加至少1个分类数据
- [ ] 刷新活动页面无错误
- [ ] 能看到分类标签
- [ ] 点击分类可以筛选

全部完成后，系统即可正常使用！

