# 次元学校后台管理系统

## 系统简介

次元学校后台管理系统是一个独立的Web端管理平台，用于管理小程序的所有数据，包括学生、申请订单、摄影师、公告和轮播图等。

## 功能特性

### 1. 数据概览 (Dashboard)
- 实时统计学生总数、申请订单、摄影师数量和公告数量
- 显示最近的申请订单
- 显示摄影师工作状态

### 2. 学生管理
- 添加/编辑/删除学生信息
- 自动生成学号（年份+序号）
- 默认密码：123456
- 上传录取通知书
- 查看学生档案记录
- 搜索和分页功能
- 导出学生数据为CSV

### 3. 申请订单管理
- 查看所有入学申请订单
- 按状态筛选订单
- 分配摄影师给订单
- 更新订单状态
- 查看订单详细信息
- 删除订单
- 导出订单数据

### 4. 摄影师管理
- 添加/编辑/删除摄影师
- 上传摄影师头像和作品样例
- 查看摄影师订单统计
- 设置摄影师登录账号
- 默认密码：photo123

### 5. 公告管理
- 发布/编辑/删除公告
- 上传公告封面图片
- 图片完整显示，不裁剪

### 6. 轮播图管理
- 添加/删除轮播图
- 图片完整显示，自适应高度
- 建议尺寸：750x300-400

## 技术架构

### 前端技术
- 纯HTML/CSS/JavaScript
- 无需框架，轻量级
- 响应式设计，支持移动端

### 数据存储
- 使用localStorage存储数据
- 与小程序共享同一套storage.js
- 数据实时同步

### 权限系统
- 管理员：拥有所有权限
- 摄影师：查看和更新订单、上传照片
- 客服：查看申请和学生信息

## 安装部署

### 方式一：本地运行
1. 将`admin`文件夹放置在项目根目录
2. 使用任意Web服务器（如Live Server、http-server等）运行
3. 访问 `http://localhost:端口/admin/index.html`

### 方式二：部署到服务器
1. 将`admin`文件夹上传到服务器
2. 配置Web服务器（Nginx/Apache）指向该目录
3. 访问 `https://yourdomain.com/admin/`

### 方式三：GitHub Pages
1. 将`admin`文件夹推送到GitHub仓库
2. 在仓库设置中启用GitHub Pages
3. 访问 `https://username.github.io/repo-name/admin/`

## 默认账号

### 管理员账号
- 用户名：`admin`
- 密码：`admin123`
- 权限：全部

### 摄影师账号
- 用户名：`photographer`
- 密码：`photo123`
- 权限：订单管理、照片上传

### 客服账号
- 用户名：`service`
- 密码：`service123`
- 权限：查看申请和学生信息

## 使用说明

### 登录系统
1. 打开后台管理系统首页
2. 选择登录身份（管理员/摄影师/客服）
3. 输入用户名和密码
4. 点击登录

### 添加学生
1. 进入"学生管理"页面
2. 点击"+ 添加学生"按钮
3. 填写学生信息（学号自动生成）
4. 上传录取通知书（可选）
5. 点击"保存"

### 处理申请订单
1. 进入"申请订单"页面
2. 查看待处理的订单
3. 点击"分配"按钮选择摄影师
4. 点击"状态"按钮更新订单状态
5. 摄影师完成拍摄后，更新状态为"照片已上传"

### 管理摄影师
1. 进入"摄影师管理"页面
2. 点击"+ 添加摄影师"按钮
3. 填写摄影师信息
4. 上传头像和作品样例
5. 设置登录账号和密码
6. 点击"保存"

### 发布公告
1. 进入"公告管理"页面
2. 点击"+ 发布公告"按钮
3. 填写标题和内容
4. 上传封面图片（可选）
5. 点击"发布"

### 添加轮播图
1. 进入"轮播图管理"页面
2. 点击"+ 添加轮播图"按钮
3. 上传图片
4. 点击"保存"

## 数据共享机制

后台管理系统与小程序共享同一套数据存储逻辑（`storage.js`），数据通过localStorage存储。

### 数据结构

#### 学生数据 (students)
```javascript
{
  id: "20250001",
  name: "张三",
  gender: "男",
  age: 10,
  parentName: "张父",
  phone: "13800138000",
  wechat: "zhangsan_wx",
  password: "123456",
  admissionLetter: "base64...",
  createdAt: "2025-01-01T00:00:00.000Z"
}
```

#### 申请订单 (applications)
```javascript
{
  id: "APP1704067200000",
  childName: "李四",
  childGender: "女",
  childAge: 8,
  parentName: "李父",
  phone: "13900139000",
  wechat: "lisi_wx",
  expectations: "希望孩子快乐成长",
  lifePhoto: "base64...",
  photographerId: "PHO1",
  photographerName: "星空画师",
  status: "pending",
  createdAt: "2025-01-01T00:00:00.000Z"
}
```

#### 摄影师数据 (photographers)
```javascript
{
  id: "PHO1",
  name: "星空画师",
  specialty: "星空风格",
  description: "擅长星空、梦幻风格的证件照拍摄",
  username: "photographer1",
  password: "photo123",
  avatar: "base64...",
  samples: ["base64...", "base64..."],
  status: "available",
  orderCount: 5,
  createdAt: "2025-01-01T00:00:00.000Z"
}
```

## 注意事项

1. **数据安全**：localStorage数据存储在浏览器本地，清除浏览器数据会导致数据丢失。生产环境建议接入云数据库。

2. **图片大小**：上传的图片会转换为Base64存储，建议控制图片大小在2MB以内。

3. **浏览器兼容**：建议使用现代浏览器（Chrome、Firefox、Safari、Edge）访问。

4. **账号安全**：首次部署后请及时修改默认密码。

5. **数据备份**：定期使用导出功能备份重要数据。

## 常见问题

### Q: 如何修改管理员密码？
A: 目前需要在`admin/js/auth.js`文件中修改`defaultAccounts`对象的密码字段。

### Q: 数据丢失怎么办？
A: localStorage数据存储在浏览器本地，建议定期导出数据备份。生产环境建议接入云数据库。

### Q: 如何添加新的摄影师账号？
A: 在"摄影师管理"页面添加摄影师时，设置用户名和密码即可创建登录账号。

### Q: 小程序和后台的数据如何同步？
A: 目前使用localStorage存储，数据在同一浏览器环境下自动共享。如需跨设备同步，需要接入云数据库。

## 未来规划

- [ ] 接入腾讯云数据库，实现真正的云端数据存储
- [ ] 添加数据统计图表
- [ ] 实现批量操作功能
- [ ] 添加操作日志记录
- [ ] 支持多语言
- [ ] 移动端APP版本

## 技术支持

如有问题或建议，请联系开发团队。

---

**次元学校 © 2025 版权所有**

