<!--pages/apply/status.wxml - ç”³è¯·çŠ¶æ€æŸ¥çœ‹-->
<view class="status-container">
  
  <!-- çŠ¶æ€å¤´éƒ¨ -->
  <view class="status-header {{application.status === 'photographing' ? 'status-processing' : 'status-completed'}}">
    <view class="status-icon">
      {{application.status === 'photographing' ? 'ğŸ“¸' : 'âœ…'}}
    </view>
    <view class="status-title">
      {{application.status === 'photographing' ? 'æ‘„å½±å¸ˆæ‹æ‘„ä¸­' : 'å­¦ç±æ¡£æ¡ˆå·²å®Œæˆ'}}
    </view>
    <view class="status-subtitle">
      {{application.status === 'photographing' ? 'é¢„è®¡3ä¸ªå·¥ä½œæ—¥å†…å®Œæˆ' : 'æ‚¨çš„å­©å­å·²æˆåŠŸå…¥å­¦'}}
    </view>
  </view>

  <!-- ç”³è¯·ä¿¡æ¯ -->
  <view class="info-section">
    <view class="section-title">ç”³è¯·ä¿¡æ¯</view>
    <view class="info-card">
      <view class="info-row">
        <view class="info-label">å­¦ç”Ÿå§“å</view>
        <view class="info-value">{{application.studentName}}</view>
      </view>
      <view class="info-row">
        <view class="info-label">å­¦å·</view>
        <view class="info-value">{{application.studentId}}</view>
      </view>
      <view class="info-row">
        <view class="info-label">å®¶é•¿å§“å</view>
        <view class="info-value">{{application.parentName}}</view>
      </view>
      <view class="info-row">
        <view class="info-label">ç”³è¯·æ—¶é—´</view>
        <view class="info-value">{{application.paymentTime}}</view>
      </view>
    </view>
  </view>

  <!-- æ‘„å½±å¸ˆä¿¡æ¯ -->
  <view class="info-section">
    <view class="section-title">æ‘„å½±å¸ˆä¿¡æ¯</view>
    <view class="photographer-card">
      <image class="photographer-avatar" src="{{application.photographerAvatar || '/images/default-avatar.png'}}" mode="aspectFill"/>
      <view class="photographer-info">
        <view class="photographer-name">{{application.photographerName}}</view>
        <view class="photographer-status">
          {{application.status === 'photographing' ? 'æ­£åœ¨ä¸ºæ‚¨æ‹æ‘„ä¸­...' : 'å·²å®Œæˆæ‹æ‘„'}}
        </view>
      </view>
    </view>
  </view>

  <!-- è¿›åº¦æ—¶é—´çº¿ -->
  <view class="timeline-section">
    <view class="section-title">å¤„ç†è¿›åº¦</view>
    <view class="timeline">
      <view class="timeline-item completed">
        <view class="timeline-dot"></view>
        <view class="timeline-content">
          <view class="timeline-title">æäº¤ç”³è¯·</view>
          <view class="timeline-time">{{application.paymentTime}}</view>
        </view>
      </view>
      <view class="timeline-item {{application.status !== 'photographing' ? 'completed' : 'active'}}">
        <view class="timeline-dot"></view>
        <view class="timeline-content">
          <view class="timeline-title">æ‘„å½±å¸ˆæ‹æ‘„</view>
          <view class="timeline-time">{{application.status === 'photographing' ? 'è¿›è¡Œä¸­...' : 'å·²å®Œæˆ'}}</view>
        </view>
      </view>
      <view class="timeline-item {{application.status !== 'photographing' ? 'completed' : ''}}">
        <view class="timeline-dot"></view>
        <view class="timeline-content">
          <view class="timeline-title">æ¡£æ¡ˆå®Œæˆ</view>
          <view class="timeline-time">{{application.status !== 'photographing' ? 'å·²å®Œæˆ' : 'ç­‰å¾…ä¸­...'}}</view>
        </view>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æŒ‰é’® -->
  <view class="bottom-actions">
    <button class="btn-secondary" bindtap="goHome">è¿”å›é¦–é¡µ</button>
    <button wx:if="{{application.status !== 'photographing'}}" class="btn-primary" bindtap="viewArchive">
      æŸ¥çœ‹æ¡£æ¡ˆ
    </button>
  </view>

</view>

