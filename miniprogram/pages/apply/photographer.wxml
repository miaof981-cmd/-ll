<!--pages/apply/photographer.wxml - é€‰æ‹©æ‘„å½±å¸ˆ-->
<view class="photographer-container">
  
  <!-- æ­¥éª¤è¿›åº¦æ¡ -->
  <view class="steps-bar">
    <view class="step completed">
      <view class="step-number">âœ“</view>
      <view class="step-label">å¡«å†™ä¿¡æ¯</view>
    </view>
    <view class="step-line active"></view>
    
    <view class="step completed">
      <view class="step-number">âœ“</view>
      <view class="step-label">æ¡£æ¡ˆé¢„è§ˆ</view>
    </view>
    <view class="step-line active"></view>
    
    <view class="step active">
      <view class="step-number">3</view>
      <view class="step-label">é€‰æ‹©æ‘„å½±å¸ˆ</view>
    </view>
    <view class="step-line"></view>
    
    <view class="step">
      <view class="step-number">4</view>
      <view class="step-label">å®Œæˆæ”¯ä»˜</view>
    </view>
  </view>

  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <view class="header-icon">ğŸ“¸</view>
    <view class="header-title">é€‰æ‹©ä¸“ä¸šæ‘„å½±å¸ˆ</view>
    <view class="header-subtitle">ä¸ºæ‚¨çš„å­©å­æ‹æ‘„ç²¾ç¾è¯ä»¶ç…§</view>
  </view>

  <!-- æ‘„å½±å¸ˆåˆ—è¡¨ -->
  <view class="photographer-list">
    <view 
      wx:for="{{photographers}}" 
      wx:key="id" 
      class="photographer-card {{selectedId === item.id ? 'selected' : ''}}"
      bindtap="selectPhotographer"
      data-id="{{item.id}}"
    >
      <!-- é€‰ä¸­æ ‡è®° -->
      <view wx:if="{{selectedId === item.id}}" class="selected-badge">
        <text>âœ“ å·²é€‰æ‹©</text>
      </view>

      <!-- æ‘„å½±å¸ˆå¤´åƒ -->
      <view class="photographer-avatar">
        <image wx:if="{{item.avatar}}" class="avatar-img" src="{{item.avatar}}" mode="aspectFill" bindload="onAvatarLoad" binderror="onAvatarError"/>
        <view wx:else class="avatar-placeholder">{{item.name.substr(0,1)}}</view>
        <view class="avatar-badge">{{item.level}}</view>
      </view>

      <!-- æ‘„å½±å¸ˆä¿¡æ¯ -->
      <view class="photographer-info">
        <view class="photographer-name">{{item.name}}</view>
        <view class="photographer-title">{{item.title}}</view>
        <view class="photographer-stats">
          <view class="stat-item">
            <text class="stat-icon">â­</text>
            <text class="stat-text">{{item.rating}}</text>
          </view>
          <view class="stat-item">
            <text class="stat-icon">ğŸ“·</text>
            <text class="stat-text">{{item.works}}ä½œå“</text>
          </view>
          <view class="stat-item">
            <text class="stat-icon">ğŸ‘¥</text>
            <text class="stat-text">{{item.orders}}å•</text>
          </view>
        </view>
        <view class="photographer-desc">{{item.description}}</view>
      </view>

      <!-- ä½œå“å±•ç¤º -->
      <view class="works-preview">
        <view class="works-title">ä½œå“å‚è€ƒ</view>
        <scroll-view class="works-scroll" scroll-x>
          <view class="works-list">
            <image 
              wx:for="{{item.samples}}" 
              wx:key="index"
              wx:for-item="sample"
              class="work-image" 
              src="{{sample}}" 
              mode="aspectFill"
              bindtap="previewWork"
              data-urls="{{item.samples}}"
              data-current="{{sample}}"
            />
          </view>
        </scroll-view>
      </view>

      <!-- ä»·æ ¼ -->
      <view class="photographer-price">
        <view class="price-label">æ‹æ‘„è´¹ç”¨</view>
        <view class="price-value">
          <text class="price-symbol">Â¥</text>
          <text class="price-amount">{{item.price}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:if="{{photographers.length === 0}}" class="empty-state">
    <view class="empty-icon">ğŸ“·</view>
    <view class="empty-text">æš‚æ— å¯é€‰æ‘„å½±å¸ˆ</view>
  </view>

  <!-- åº•éƒ¨æŒ‰é’® -->
  <view class="bottom-actions">
    <button class="btn-secondary" bindtap="goBack">
      â† è¿”å›ä¸Šä¸€æ­¥
    </button>
    <button class="btn-primary" bindtap="confirmSelection" disabled="{{!selectedId}}">
      ç¡®è®¤é€‰æ‹©å¹¶æ”¯ä»˜ â†’
    </button>
  </view>

</view>

