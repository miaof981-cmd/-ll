<!--pages/login/login.wxml - 统一登录（简洁版）-->
<view class="login-container">
  <!-- 顶部装饰圆圈 -->
  <view class="header-decoration">
    <view class="decoration-circle circle-1"></view>
    <view class="decoration-circle circle-2"></view>
    <view class="decoration-circle circle-3"></view>
  </view>

  <!-- 登录卡片 -->
  <view class="login-card">
    <!-- Logo 和标题（漂浮的博士帽） -->
    <view class="login-header">
      <view class="logo-large">🎓</view>
      <text class="login-title">学校官网登录</text>
      <text class="login-subtitle">欢迎回来，请完善资料</text>
    </view>

    <!-- 头像昵称填写区域 -->
    <view class="profile-section">
      <!-- 头像选择 -->
      <view class="form-item">
        <view class="item-label">
          <text>微信头像</text>
          <text class="required">*</text>
        </view>
        <button class="avatar-btn" open-type="chooseAvatar" bindchooseavatar="onChooseAvatar">
          <image class="avatar-img" src="{{avatarUrl}}" mode="aspectFill" />
          <view class="avatar-overlay">
            <text class="change-text">点击更换</text>
          </view>
        </button>
      </view>

      <!-- 昵称输入 -->
      <view class="form-item">
        <view class="item-label">
          <text>微信昵称</text>
          <text class="required">*</text>
        </view>
        <input 
          type="nickname"
          class="nickname-input"
          placeholder="点击输入你的昵称"
          placeholder-class="nickname-placeholder"
          value="{{nickName}}"
          bindinput="onNicknameInput"
          maxlength="20"
        />
      </view>
    </view>


    <!-- 登录按钮 -->
    <button 
      class="btn-wechat-login"
      bindtap="wechatLogin"
      loading="{{loading}}"
      disabled="{{loading || !nickName}}"
    >
      <text class="btn-text">确认登录</text>
    </button>
  </view>

  <!-- 底部文字 -->
  <view class="footer-text">
    <text>© 2025 学校官网 · 安全可靠</text>
  </view>
</view>
