<!--pages/activities/activities.wxml-->
<view class="activities-page">
  <!-- åˆ†ç±»ç­›é€‰ -->
  <scroll-view class="category-tabs" scroll-x="true" enable-flex="true">
    <view 
      wx:for="{{categories}}" 
      wx:key="id" 
      class="category-tab {{activeCategory === item.id ? 'active' : ''}}"
      bindtap="switchCategory"
      data-category="{{item.id}}"
    >
      {{item.name}}
    </view>
  </scroll-view>

  <!-- æ´»åŠ¨åˆ—è¡¨ -->
  <view wx:if="{{!loading && activities.length === 0}}" class="empty-state">
    <view class="empty-icon">ğŸ¨</view>
    <text class="empty-text">æš‚æ— æ´»åŠ¨</text>
    <text class="empty-hint">æ•¬è¯·æœŸå¾…æ›´å¤šç²¾å½©æ´»åŠ¨</text>
  </view>

  <view wx:if="{{!loading}}" class="activity-grid">
    <view 
      wx:for="{{activities}}" 
      wx:key="_id" 
      class="activity-card fade-in"
      style="animation-delay: {{index * 0.1}}s"
      bindtap="viewActivity"
      data-id="{{item._id}}"
    >
      <!-- æ´»åŠ¨å°é¢ -->
      <view class="activity-cover-wrap">
        <image class="activity-cover" src="{{item.coverImage}}" mode="aspectFill" />
        <!-- æ ‡ç­¾ -->
        <view class="activity-badges">
          <view wx:if="{{item.isHot}}" class="badge badge-hot">ğŸ”¥ çƒ­é—¨</view>
          <view wx:if="{{item.isNew}}" class="badge badge-new">ğŸ†• æ–°å“</view>
        </view>
      </view>

      <!-- æ´»åŠ¨ä¿¡æ¯ -->
      <view class="activity-info">
        <text class="activity-title">{{item.title}}</text>
        <text class="activity-subtitle">{{item.subtitle}}</text>
        
        <view class="activity-footer">
          <view class="activity-price">
            <text class="price-current">Â¥{{item.price}}</text>
            <text wx:if="{{item.originalPrice > item.price}}" class="price-original">Â¥{{item.originalPrice}}</text>
          </view>
          <view class="activity-stats">
            <text class="stat-item">ğŸ‘ {{item.viewCount || 0}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading-wrapper">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>
</view>

