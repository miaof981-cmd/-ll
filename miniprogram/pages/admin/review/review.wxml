<view class="review-page">
  <!-- 头部统计 -->
  <view class="header">
    <view class="stat">
      <text class="count">{{orders.length}}</text>
      <text class="label">待审核订单</text>
    </view>
    <view class="tip">以图片为中心，快速审核摄影师作品</view>
  </view>

  <!-- 加载状态 -->
  <view wx:if="{{loading}}" class="loading">
    <text>加载中...</text>
  </view>

  <!-- 空状态 -->
  <view wx:elif="{{orders.length === 0}}" class="empty">
    <text class="empty-icon">✅</text>
    <text class="empty-text">暂无待审核订单</text>
  </view>

  <!-- 订单列表 -->
  <view wx:else class="orders-list">
    <view wx:for="{{orders}}" wx:key="_id" class="order-card">
      <!-- 订单基础信息 -->
      <view class="order-info">
        <view class="info-row">
          <text class="activity-name">{{item.activityInfo.name || '活动'}}</text>
          <text class="order-no">订单号：{{item.orderNo}}</text>
        </view>
        <view class="info-row">
          <text class="photographer">📷 {{item.photographerInfo.name || '摄影师'}}</text>
          <text class="submit-time">提交时间：{{item.submittedAt}}</text>
        </view>
      </view>

      <!-- 作品图片展示（核心） -->
      <view class="photos-section">
        <view class="photos-header">
          <text class="section-title">提交作品（{{item.photos.length}}张）</text>
        </view>
        <view class="photos-grid">
          <view 
            wx:for="{{item.photos}}" 
            wx:for-item="photo"
            wx:for-index="photoIndex"
            wx:key="photoIndex"
            class="photo-item"
            bindtap="previewImage"
            data-images="{{item.photos}}"
            data-current="{{photo}}"
          >
            <image src="{{photo}}" mode="aspectFill" class="photo" />
          </view>
        </view>
      </view>

      <!-- 快速操作按钮 -->
      <view class="actions">
        <button 
          class="action-btn approve" 
          bindtap="quickApprove"
          data-id="{{item._id}}"
        >
          <text class="btn-icon">✓</text>
          <text class="btn-text">审核通过</text>
        </button>
        <button 
          class="action-btn reject" 
          bindtap="quickReject"
          data-id="{{item._id}}"
        >
          <text class="btn-icon">✕</text>
          <text class="btn-text">拒绝</text>
        </button>
        <button 
          class="action-btn detail" 
          bindtap="viewDetail"
          data-id="{{item._id}}"
        >
          <text class="btn-text">查看详情</text>
        </button>
      </view>
    </view>
  </view>
</view>

