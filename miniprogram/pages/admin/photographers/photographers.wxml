<view class="photographers-page">
  <!-- é¡¶éƒ¨æ  -->
  <view class="top-bar">
    <view class="page-title">æ‘„å½±å¸ˆç®¡ç†</view>
    <view class="add-btn" bindtap="addPhotographer">
      <text>æ·»åŠ </text>
    </view>
  </view>

  <!-- æ‘„å½±å¸ˆåˆ—è¡¨ -->
  <view class="photographers-list">
    <view wx:if="{{photographers.length === 0}}" class="empty-tip">
      <text class="empty-icon">ğŸ“·</text>
      <text class="empty-text">æš‚æ— æ‘„å½±å¸ˆ</text>
      <text class="empty-hint">ç‚¹å‡»å³ä¸Šè§’"æ·»åŠ "æŒ‰é’®æ·»åŠ æ‘„å½±å¸ˆ</text>
    </view>

    <view 
      wx:for="{{photographers}}" 
      wx:key="_id"
      class="photographer-card"
    >
      <view class="card-main">
        <!-- å¤´åƒå’ŒåŸºæœ¬ä¿¡æ¯ -->
        <view class="photographer-info">
          <image wx:if="{{item.avatar}}" class="avatar" src="{{item.avatar}}" mode="aspectFill"></image>
          <view wx:else class="avatar-placeholder">{{item.name.substring(0,1)}}</view>
          
          <view class="info-content">
            <text class="photographer-name">{{item.name}}</text>
            <text wx:if="{{item.specialty}}" class="specialty">{{item.specialty}}</text>
            <text wx:else class="specialty-empty">æš‚æ— ä¸“é•¿</text>
          </view>
        </view>

        <!-- ç®€ä»‹ -->
        <view wx:if="{{item.description}}" class="description">
          <text>{{item.description}}</text>
        </view>

        <!-- å‚è€ƒä½œå“ -->
        <view wx:if="{{item.referenceImages && item.referenceImages.length > 0}}" class="reference-preview">
          <text class="ref-title">å‚è€ƒä½œå“</text>
          <scroll-view class="ref-scroll" scroll-x>
            <view class="ref-images-list">
              <image 
                wx:for="{{item.referenceImages}}" 
                wx:key="index" 
                class="ref-thumb" 
                src="{{item}}" 
                mode="aspectFill"
                bindtap="previewImages"
                data-images="{{item.referenceImages}}"
                data-current="{{item}}"
              ></image>
            </view>
          </scroll-view>
        </view>

        <!-- ç»Ÿè®¡ä¿¡æ¯ -->
        <view class="stats-row">
          <view class="stat-item">
            <text class="stat-label">è®¢å•æ•°</text>
            <text class="stat-value">{{item.orderCount || 0}}</text>
          </view>
          <view wx:if="{{item.wechatOpenid}}" class="stat-item">
            <text class="stat-label">å·²ç»‘å®šå¾®ä¿¡</text>
            <text class="stat-value success">âœ“</text>
          </view>
        </view>
      </view>

      <!-- æ“ä½œæŒ‰é’® -->
      <view class="action-buttons">
        <button class="btn-action btn-edit" bindtap="editPhotographer" data-id="{{item._id}}">
          ç¼–è¾‘
        </button>
        <button class="btn-action btn-delete" bindtap="deletePhotographer" data-id="{{item._id}}">
          åˆ é™¤
        </button>
      </view>
    </view>
  </view>
</view>
