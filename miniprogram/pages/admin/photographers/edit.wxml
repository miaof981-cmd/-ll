<view class="container">
  <view class="form">
    <view class="form-item">
      <text class="label">摄影师姓名 *</text>
      <input class="input" placeholder="请输入姓名" value="{{name}}" bindinput="onNameInput" />
    </view>

    <view class="form-item">
      <text class="label">专长风格</text>
      <input class="input" placeholder="如：星空风格、清新自然" value="{{specialty}}" bindinput="onSpecialtyInput" />
    </view>

    <view class="form-item">
      <text class="label">简介</text>
      <textarea class="textarea" placeholder="请输入简介" value="{{description}}" bindinput="onDescriptionInput" maxlength="200"></textarea>
    </view>

    <view class="form-item">
      <view class="label-with-help">
        <text class="label">微信OpenID</text>
        <text class="help-icon" bindtap="showOpenidHelp">❓</text>
      </view>
      <input class="input" placeholder="可选，用于绑定微信账号" value="{{wechatOpenid}}" bindinput="onOpenidInput" />
      <view class="hint">绑定后该用户登录小程序即可自动获得摄影师权限</view>
    </view>

    <view class="form-item">
      <text class="label">头像</text>
      <view class="image-upload">
        <image class="preview" src="{{avatar}}" mode="aspectFill" wx:if="{{avatar}}" bindtap="previewAvatar"></image>
        <view class="upload-btn" bindtap="uploadAvatar" wx:else>
          <text>+</text>
        </view>
      </view>
    </view>

    <view class="form-actions">
      <button class="btn-cancel" bindtap="cancel">取消</button>
      <button class="btn-save" bindtap="save">保存</button>
    </view>
  </view>

  <!-- OpenID 帮助弹窗 -->
  <view wx:if="{{showOpenidHelp}}" class="modal-mask" bindtap="hideOpenidHelp">
    <view class="modal-content" catchtap>
      <view class="modal-header">
        <text class="modal-title">如何获取微信 OpenID？</text>
        <text class="modal-close" bindtap="hideOpenidHelp">✕</text>
      </view>
      <view class="modal-body">
        <view class="step-item">
          <text class="step-num">1</text>
          <text class="step-text">让该摄影师先使用微信登录小程序</text>
        </view>
        <view class="step-item">
          <text class="step-num">2</text>
          <text class="step-text">摄影师进入「我的」页面</text>
        </view>
        <view class="step-item">
          <text class="step-num">3</text>
          <text class="step-text">在用户卡片中可以看到并复制 OpenID</text>
        </view>
        <view class="step-item">
          <text class="step-num">4</text>
          <text class="step-text">将复制的 OpenID 粘贴到这里</text>
        </view>
        <view class="step-note">
          💡 绑定后，该用户下次登录小程序时会自动识别为摄影师身份
        </view>
      </view>
      <button class="modal-btn" bindtap="hideOpenidHelp">我知道了</button>
    </view>
  </view>
</view>

