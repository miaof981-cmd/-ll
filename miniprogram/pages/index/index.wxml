<!--pages/index/index.wxml-->
<view class="container">
  <!-- è½®æ’­å›¾ -->
  <swiper 
    class="banner-swiper" 
    wx:if="{{banners.length > 0}}" 
    autoplay="{{true}}" 
    interval="3000" 
    duration="500" 
    circular="{{true}}"
    bindchange="onBannerChange"
  >
    <swiper-item wx:for="{{banners}}" wx:key="index">
      <image class="banner-image" src="{{item}}" mode="aspectFill"></image>
    </swiper-item>
  </swiper>

  <!-- åŠŸèƒ½å¯¼èˆª -->
  <view class="nav-section">
    <view class="nav-grid">
      <navigator url="/pages/login/login" class="nav-item">
        <view class="nav-icon">ğŸ‘¤</view>
        <text class="nav-text">å®¶é•¿ç™»å½•</text>
      </navigator>
      <navigator url="/pages/records/records" class="nav-item">
        <view class="nav-icon">ğŸ“Š</view>
        <text class="nav-text">æˆç»©æŸ¥è¯¢</text>
      </navigator>
      <view class="nav-item" bindtap="showContact">
        <view class="nav-icon">ğŸ“</view>
        <text class="nav-text">è”ç³»æˆ‘ä»¬</text>
      </view>
      <navigator url="/pages/admin/admin" class="nav-item">
        <view class="nav-icon">âš™ï¸</view>
        <text class="nav-text">ç®¡ç†åå°</text>
      </navigator>
    </view>
  </view>

  <!-- å…¬å‘Šæ  -->
  <view class="section">
    <view class="section-header">
      <view class="section-title">
        <text class="title-icon">ğŸ“¢</text>
        <text class="title-text">å­¦æ ¡å…¬å‘Š</text>
      </view>
      <text class="more-text">æ›´å¤š</text>
    </view>
    
    <view wx:if="{{announcements.length === 0 && !loading}}" class="empty-state">
      <view class="empty-state-icon">ğŸ“</view>
      <view class="empty-state-text">æš‚æ— å…¬å‘Š</view>
    </view>
    
    <view wx:if="{{loading}}" class="loading">
      <text>åŠ è½½ä¸­...</text>
    </view>
    
    <view wx:for="{{announcements}}" wx:key="id" class="announcement-item" bindtap="viewAnnouncement" data-announcement="{{item}}">
      <view class="announcement-header">
        <text class="announcement-title">{{item.title}}</text>
        <view wx:if="{{item.pinned}}" class="tag tag-danger">ç½®é¡¶</view>
      </view>
      <view class="announcement-content">{{item.content}}</view>
      <view class="announcement-footer">
        <text class="announcement-time">{{item.createdAt}}</text>
      </view>
    </view>
  </view>

  <!-- æ ¡å›­æ–°é—» -->
  <view class="section">
    <view class="section-header">
      <view class="section-title">
        <text class="title-icon">ğŸ“°</text>
        <text class="title-text">æ ¡å›­æ–°é—»</text>
      </view>
      <text class="more-text">æ›´å¤š</text>
    </view>
    
    <view wx:if="{{articles.length === 0 && !loading}}" class="empty-state">
      <view class="empty-state-icon">ğŸ“°</view>
      <view class="empty-state-text">æš‚æ— æ–°é—»</view>
    </view>
    
    <view wx:for="{{articles}}" wx:key="id" class="article-item" bindtap="viewArticle" data-article="{{item}}">
      <view class="article-title">{{item.title}}</view>
      <view class="article-content">{{item.content}}</view>
      <view class="article-footer">
        <text class="article-time">{{item.createdAt}}</text>
      </view>
    </view>
  </view>
</view>
