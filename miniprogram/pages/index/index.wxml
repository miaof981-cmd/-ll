<!--pages/index/index.wxml-->
<view class="page-container">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="header">
    <view class="header-content">
      <view class="logo-section">
        <text class="logo-icon">ğŸ“</text>
        <text class="logo-text">å­¦æ ¡å®˜ç½‘</text>
      </view>
    </view>
  </view>

  <!-- ä¸»å†…å®¹åŒº -->
  <view class="main-content">
    <!-- å¿«æ·åŠŸèƒ½å¡ç‰‡ -->
    <view class="quick-actions">
      <navigator url="/pages/login/login" class="action-card">
        <view class="action-icon">ğŸ‘¤</view>
        <text class="action-title">å®¶é•¿ç™»å½•</text>
        <text class="action-desc">æŸ¥çœ‹å­¦ç”Ÿæ¡£æ¡ˆ</text>
      </navigator>
      
      <view class="action-card" bindtap="showContact">
        <view class="action-icon">ğŸ“</view>
        <text class="action-title">è”ç³»æˆ‘ä»¬</text>
        <text class="action-desc">å’¨è¯¢ä¸å¸®åŠ©</text>
      </view>
    </view>

    <!-- å­¦æ ¡å…¬å‘ŠåŒº -->
    <view class="content-section">
      <view class="section-header">
        <view class="section-title-wrapper">
          <view class="section-icon">ğŸ“¢</view>
          <text class="section-title">å­¦æ ¡å…¬å‘Š</text>
        </view>
        <text class="section-more">æ›´å¤š</text>
      </view>

      <view wx:if="{{announcements.length === 0}}" class="empty-state">
        <view class="empty-icon">ğŸ“</view>
        <text class="empty-text">æš‚æ— å…¬å‘Š</text>
      </view>

      <view class="announcement-list">
        <view 
          wx:for="{{announcements}}" 
          wx:key="id" 
          class="announcement-card fade-in"
          style="animation-delay: {{index * 0.1}}s"
          bindtap="viewAnnouncement" 
          data-announcement="{{item}}"
        >
          <view class="announcement-header">
            <text class="announcement-title">{{item.title}}</text>
            <view wx:if="{{item.pinned}}" class="tag tag-danger">ç½®é¡¶</view>
          </view>
          <view class="announcement-content">{{item.content}}</view>
          <view class="announcement-footer">
            <text class="announcement-time">ğŸ“… {{item.createdAt}}</text>
          </view>
        </view>
      </view>
    </view>

    <!-- æ ¡å›­æ–°é—»åŒº -->
    <view class="content-section">
      <view class="section-header">
        <view class="section-title-wrapper">
          <view class="section-icon">ğŸ“°</view>
          <text class="section-title">æ ¡å›­æ–°é—»</text>
        </view>
        <text class="section-more">æ›´å¤š</text>
      </view>

      <view wx:if="{{articles.length === 0}}" class="empty-state">
        <view class="empty-icon">ğŸ“°</view>
        <text class="empty-text">æš‚æ— æ–°é—»</text>
      </view>

      <view class="news-list">
        <view 
          wx:for="{{articles}}" 
          wx:key="id" 
          class="news-card fade-in"
          style="animation-delay: {{index * 0.1}}s"
          bindtap="viewArticle" 
          data-article="{{item}}"
        >
          <view class="news-title">{{item.title}}</view>
          <view class="news-content">{{item.content}}</view>
          <view class="news-footer">
            <text class="news-time">ğŸ“… {{item.createdAt}}</text>
            <text class="news-action">æŸ¥çœ‹è¯¦æƒ… â†’</text>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>
