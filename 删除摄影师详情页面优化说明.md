# 删除摄影师详情页面并优化显示

## 优化需求

根据用户反馈，摄影师详情作为独立页面存在感过强，且点击跳转体验不流畅。优化方案：
1. 删除独立的"摄影师详情"页面
2. 在订单详情页面直接内嵌摄影师信息
3. 弱化摄影师信息的视觉权重，不单独占据显眼区域

## 修改内容

### 1. 删除文件

删除摄影师详情页面的所有文件：
- ❌ `miniprogram/pages/photographer/detail.js`
- ❌ `miniprogram/pages/photographer/detail.wxml`
- ❌ `miniprogram/pages/photographer/detail.wxss`
- ❌ `miniprogram/pages/photographer/detail.json`

### 2. 修改订单详情页面 JS

**文件：`miniprogram/pages/user/orders/detail.js`**

删除了 `viewPhotographer()` 函数：
```javascript
// 删除的代码
viewPhotographer() {
  if (this.data.order && this.data.order.photographerId) {
    wx.navigateTo({
      url: `/pages/photographer/detail?id=${this.data.order.photographerId}`
    });
  }
}
```

### 3. 修改订单详情页面 WXML

**文件：`miniprogram/pages/user/orders/detail.wxml`**

**优化前**：摄影师信息单独占据一个区域，有点击跳转功能
```xml
<!-- 摄影师信息 -->
<view wx:if="{{photographerInfo}}" class="detail-section">
  <view class="photographer-info-compact" bindtap="viewPhotographer">
    <image class="photographer-avatar-small" src="{{photographerInfo.avatarUrl}}"></image>
    <view class="photographer-text">
      <text class="photographer-name-small">{{photographerInfo.name}}</text>
      <text class="photographer-specialty-small">{{photographerInfo.specialty}}</text>
    </view>
    <view class="photographer-arrow">→</view>
  </view>
</view>
```

**优化后**：摄影师信息整合到订单信息区域，作为普通信息行显示
```xml
<!-- 订单信息 -->
<view class="detail-section">
  <view class="info-row">
    <text class="label">订单号</text>
    <text class="value code">{{order.orderNo}}</text>
  </view>
  <view class="info-row">
    <text class="label">下单时间</text>
    <text class="value">{{order.createdAtText}}</text>
  </view>
  <view class="info-row">
    <text class="label">订单金额</text>
    <text class="value price">¥{{order.totalPrice}}</text>
  </view>
  <!-- 摄影师信息（弱化显示） -->
  <view wx:if="{{photographerInfo}}" class="info-row photographer-row">
    <text class="label">摄影师</text>
    <view class="photographer-inline">
      <image class="photographer-avatar-mini" src="{{photographerInfo.avatarUrl}}"></image>
      <text class="photographer-name-mini">{{photographerInfo.name}}</text>
    </view>
  </view>
</view>
```

### 4. 修改样式文件

**文件：`miniprogram/pages/user/orders/detail.wxss`**

**删除的样式**：
- `.photographer-info-compact` （紧凑卡片样式）
- `.photographer-avatar-small` （80rpx 大头像）
- `.photographer-text` （双行文本布局）
- `.photographer-name-small` （28rpx 粗体名字）
- `.photographer-specialty-small` （22rpx 专长说明）
- `.photographer-arrow` （右箭头）

**新增的样式**：
```css
/* 摄影师信息（内联弱化版） */
.photographer-row {
  border-top: 1rpx solid #f0f0f0;
  padding-top: 24rpx;
  margin-top: 24rpx;
}

.photographer-inline {
  display: flex;
  align-items: center;
  gap: 12rpx;
}

.photographer-avatar-mini {
  width: 48rpx;       /* 从 80rpx 缩小到 48rpx */
  height: 48rpx;
  border-radius: 50%;
  flex-shrink: 0;
}

.photographer-avatar-mini.placeholder {
  background: linear-gradient(135deg, #a0aec0 0%, #718096 100%); /* 更低调的灰色渐变 */
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20rpx;   /* 从 32rpx 缩小到 20rpx */
  font-weight: 500;
}

.photographer-name-mini {
  font-size: 26rpx;   /* 从 28rpx 缩小到 26rpx */
  color: #666;        /* 从 #333 改为 #666，更低调 */
}
```

### 5. 修改路由配置

**文件：`miniprogram/app.json`**

从 `pages` 数组中删除：
```json
"pages/photographer/detail"
```

## 优化效果对比

| 优化项 | 优化前 | 优化后 |
|--------|--------|--------|
| 独立页面 | ✅ 有独立页面 | ❌ 已删除 |
| 显示位置 | 单独区域，两个分割线之间 | 整合到订单信息最后一行 |
| 视觉权重 | 高（独立卡片 + 大头像 + 箭头） | 低（普通信息行 + 小头像） |
| 可点击性 | ✅ 可点击跳转 | ❌ 纯展示，不可点击 |
| 头像大小 | 80rpx × 80rpx | 48rpx × 48rpx |
| 字体大小 | 名字 28rpx，专长 22rpx | 名字 26rpx，无专长 |
| 颜色对比 | 名字 #333（深色） | 名字 #666（灰色） |
| 占用空间 | 约 120rpx 高度 | 约 80rpx 高度 |

## 设计理念

1. **弱化存在感**
   - 头像从 80rpx 缩小到 48rpx
   - 颜色从深色 (#333) 改为灰色 (#666)
   - 字体从 28rpx 缩小到 26rpx
   - 移除"专业摄影师"等辅助说明文字

2. **信息整合**
   - 不再单独占据一个区域
   - 作为订单信息的一部分，与订单号、下单时间等平级
   - 用分割线区隔，但不突出

3. **交互简化**
   - 移除点击跳转功能
   - 纯信息展示，不引导用户点击
   - 减少页面跳转层级

## 用户体验提升

1. **视觉更简洁**
   - 减少了一个独立区域
   - 信息层级更清晰
   - 不会分散用户对订单内容的注意力

2. **操作更流畅**
   - 减少了一个可能的误点击点
   - 不会因为点击摄影师而中断订单流程
   - 页面层级更扁平

3. **加载更快速**
   - 减少了一个页面的加载
   - 减少了一次页面跳转的开销

## 兼容性说明

- ✅ 摄影师头像依然从 `users` 集合统一获取
- ✅ 如果摄影师没有头像，会显示首字母占位符
- ✅ 如果订单没有摄影师信息，该行不显示
- ✅ 不影响其他页面的摄影师信息展示

## 相关文件

修改的文件：
- `miniprogram/pages/user/orders/detail.js`
- `miniprogram/pages/user/orders/detail.wxml`
- `miniprogram/pages/user/orders/detail.wxss`
- `miniprogram/app.json`

删除的文件：
- `miniprogram/pages/photographer/detail.js`
- `miniprogram/pages/photographer/detail.wxml`
- `miniprogram/pages/photographer/detail.wxss`
- `miniprogram/pages/photographer/detail.json`

## 版本信息

- 修改时间：2025-10-24
- 版本标签：删除摄影师详情页面优化
- 相关优化：弱化摄影师信息存在感

